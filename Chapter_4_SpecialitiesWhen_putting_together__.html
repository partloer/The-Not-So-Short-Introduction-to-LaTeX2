<div><b>Chapter 4 - Specialities</b><br></div><div>When putting together a large document, LaTeX will help with some special features like index generation, bibliography management, and other things. &nbsp;A much more complete description of specialities and enhancements possible with LaTeX can be found in the LaTeX Manual and The LaTeX Companion.<br></div><div>Leslie Lamport. L A TEX: A Document Preparation System. Addison-<br></div><div>Wesley, Reading, Massachusetts, second edition, 1994, ISBN 0-201-<br></div><div>52983-1.<br></div><div><br></div><div>Frank Mittelbach, Michel Goossens, Johannes Braams, David Carlisle,<br></div><div>Chris Rowley. The L A TEX Companion, (2nd Edition). Addison-Wesley,<br></div><div>Reading, Massachusetts, 2004, ISBN 0-201-36299-6.<br></div><div><br></div><div><b>4.1 Including Encapsulated PostScript</b><br></div><div>LaTeX provides the basic facilities to work with floating bodies, such as images or graphics, with the figure and table environments. &nbsp;There are several ways to generate the actual graphics with basic LaTeX or LaTeX extension package. &nbsp;A much easier way to get graphics into a document is to generate them with a specialised software package and then include the finished graphics in the document. &nbsp;LaTeX packages offer many ways to do this through Encapsulated PostScript (EPS) graphics, because it is quite easy to do and widely used. &nbsp;<br></div><div><br></div><div>When working on a system with a PostScript printer available for output and with the graphicx package installed, use the following step by step guide to include a picture into your document:<br></div><ol><li><div>Export the picture from your graphics program to EPS format<br></div></li><li><div>Load the graphicx package in the preamble of the input file with \usepackage[driver]{graphicx} where driver is the name of your "dvi to PostScript" converter program<br></div></li><li><div>\includegraphics[key=value,...]{file} The optional parameter accepts a comma separated list of keys and associated values. &nbsp;The keys can be used to alter the width, height, and rotation of the included graphic. &nbsp;<br></div></li></ol><div><br></div><div><b>4.2 Bibliography</b><br></div><div>Produce a bibliography with the thebibliography environment. &nbsp;Each entry starts with \bibitem[label]{marker}<br></div><div>The marker is then used to cite the book, article or paper within the document. \cite{marker}<br></div><div><br></div><div>For larger projects, you might want to check out the BibTeX program. &nbsp;BibTeX is included with most TeX distributions. &nbsp;It allows you to maintain a bibliographic database and then extract the references relevant to things you cited in your paper. &nbsp;<br></div><div><br></div><div><b>4.3 Indexing</b><br></div><div>A very useful feature of many books is their index. &nbsp;With LaTeX and the support program makeindex, an index can be generated quite easily. &nbsp;<br></div><div><br></div><div>To enable their indexing feature of LaTeX, the makeidx package must be loaded in the preamble with \usepackage{makeidx} and the special indexing commands must be enabled by putting the \makeindex command in the preamble. &nbsp;The content of the index is specified with \index{key@formatted_entry}<br></div><div><br></div><div>When the input file is processed with LaTeX, each \index command writes an appropriate index entry, together with the current page number, to a special file. &nbsp;The file has the same name as the LaTeX input file, but a different extension (.dix). &nbsp;This .idx file can then be processed with the makeindex program: makeindex filename<br></div><div><br></div><div>The makeindex program generates a sorted index with the same base file name, but this time with the extension .ind.<br></div><div><br></div><div><b>4.2 Fancy Headers</b><br></div><div>The tricky problem when customising headers and footers is to get things like running section and chapter names in there. &nbsp;LaTeX accomplishes this with a two-stage approach. &nbsp;In the header and footer definition, you use the commands \rightmark and \leftmark to represent the current section and chapter heading, respectively. &nbsp;The values of these two commands are overwritten whenever a chapter or section command is processed. &nbsp;<br></div><div><br></div><div><b>4.5 The Verbatim Package</b><br></div><div>The verbatim package is basically a re-implementation of the verbatim environment that works around some of the limitations of the original verbatim environment. &nbsp;The verbatim package provides the \verbatiminput{filename} command, which allows you to include raw ASCII text into your document as if it were inside a verbatim environment.<br></div><div><br></div><div><b>4.6 Installing Extra Packages</b><br></div><div>Most LaTeX installations come with a large set of pre-installed style packages, but many more are available on the net. &nbsp;The main place to look for style packages on the Internet is CTAN <a href="http://www.ctan.org">http://www.ctan.org</a>&nbsp; Packages such as geometry, hyphenate, and many others are typically made up of two files: a file with the extension .ins and another with the extension .dtx<br></div><div><br></div><div>Once you have copied the package files onto your machine, you still have to process them in a way that:<br></div><ol><li><div>tells your TeX distribution about the new style package<br></div><ol><li><div>Run LaTeX on the .ins file, this will extract a .sty file<br></div></li><li><div>Move the .sty file to a place where your distribution can find it<br></div></li><li><div>Refresh your distribution's file-name database. &nbsp;The command depends on the LaTeX distribution you use: texlive - texhash, maktexlsr, initexmf --update-fndb<br></div></li></ol></li><li><div>gives you the documentation<br></div><ol><li><div>Run LaTeX on the .dtx file. &nbsp;This will generate a .dvi file<br></div></li><li><div>Check to see if LaTeX has produced a .idx file among the various files you now have<br></div></li><li><div>In order to generate the index, type the following: makeindex -s gind.ist [name] (where name stands for the main-file name without any extension)<br></div></li><li><div>Run LaTeX on the .dtx file<br></div></li><li><div>Last but not least, make a .ps or .pdf file to increase your reading pleasure<br></div></li></ol></li></ol><div><br></div><div><b>4.7 Working with pdfLaTeX</b><br></div><div>Most web pages you find today are written in HTML. &nbsp;This format has two significant disadvantages when writing scientific documents:<br></div><ol><li><div>Including mathematical formulae into HTML documents is not generally supported. &nbsp;While there is a standard for it, most browsers used today do not support it, or lack the required fonts.<br></div></li><li><div>Printing HTML documents is possible, but the results vary widely between platforms and browsers. &nbsp;The results are miles removed from the quality we have come to expect in the LaTeX world.<br></div></li></ol><div><b>4.7.1 PDF Documents for the Web</b><br></div><div>The creation of a PDF file from LaTeX source is very simple, thanks to pdfTEX which produces PDF output where normal TEX produces DVI. &nbsp;There is also a pdfLaTeX, which produces PDF output from LaTeX sources.<br></div><div><br></div><div>To produce a PDF instead of DVI, it is sufficient to replace the command latex file.tex by pdflatex file.tex. &nbsp;<br></div><div><br></div><div><b>4.7.2 The Fonts</b><br></div><div>pdfLaTeX can deal with all sorts of fonts (PK bitmaps, TrueType, PostScript type 1...) but the normal LaTeX font format, the bitmap PK fonts produce very ugly results when the document is displayed with Acrobat Reader. &nbsp;The Type 1 font set most widely used today is called Latin Modern (LM). &nbsp;<br></div><div><br></div><div>Two ready-made font sets are available for this purpose: pxfonts, which is based on Palatino as its main text body font, and the txfonts package, which is based on Times. &nbsp;To use them it is sufficient to put the following lines into the preamble of your document: <br></div><div>\usepackage[T1]{fontenc}<br></div><div>\usepackage{pxfonts}<br></div><div><br></div><div><b>4.7.3 Using Graphics</b><br></div><div>Including graphics into a document works best with the graphicx package: \usepackage{xcolor, graphicx}<br></div><div>The bad news is that graphics in Encapsulated PostScript format do not work with pdfLaTeX. &nbsp;If you don't define a file extension in the \includegraphics command, graphicx will go looking for a new suitable file on its own, depending on the setting of the driver option. &nbsp;For pdftex this formats .png, .pdf, .jpg, and .mps but not .eps.<br></div><div><br></div><div><b>4.7.4 Hypertext Links</b><br></div><div>The hyperref package will take care of turning all internal references of your document into hyperlinks. &nbsp;For this to work properly some magic is necessary, so you have to put \usepackage[pdftex]{hyperref} as the last command into the preamble of your document. &nbsp;Many options are available to customize the behavior of the hyperref package:<br></div><ul><li><div>either as a comma separated list after the pdftex option \usepackage[pdftex]{hyperref}<br></div></li><li><div>or on individual lines with the command \hypersetup{options}<br></div></li></ul><div>The only required option is pdftex; the others are optional and allow you to change the default behavior of hyperref. &nbsp;In the following list the default values are written in an upright font.<br></div><div><br></div><div>If you are happy with the defaults, use \usepackage[pdftex]{hyperref}<br></div><div>To have the bookmark list open and links in colour (the =true values are optional): \usepackage[pdftex,bookmarks,colorlinks]{hyperref}<br></div><div><br></div><div>In addition to the automatic hyperlinks for cross references, it is possible to embed explicit links using \href{url}{text}<br></div><div>The \href{<a href="http://www.ctan.org}{CTAN">http://www.ctan.org}{CTAN</a>} website.<br></div><div><br></div><div>If the destination of the link is not a URL but a local file, use the \href command without the 'http://' bit: The complete document is \href{manual.pdf}{here}<br></div><div>The author of an article might want her readers to easily send email messages by using the \href command inside the \author command on the title page of the document:<br></div><div>\author{Mary Oetiker $&lt;$\href{mailto:<a href="mailto:mary@oetiker.ch">mary@oetiker.ch</a>}%{<a href="mailto:mary@oetiker.ch">mary@oetiker.ch</a>}$&gt;$<br></div><div><br></div><div>Note the email address is not only in the link but also on the page itself. &nbsp;The link \href{mailto:<a href="mailto:mary@oetiker.ch">mary@oetiker.ch</a>}{Mary Oetiker} would work will within Acrobat, but once the page is printed the email address would not be visible anymore.<br></div><div><br></div><div><b>4.7.5 Problems with Links</b><br></div><div>Messages like the following:<br></div><div>! pdfTeX warning (ext4): destination with the same identifier (name{page.1}) has been already used, duplicate ignored<br></div><div>appear when a counter gets reinitialized, for example by using the command \mainmatter provided by the book document class. &nbsp;It resets the page number counter to 1 prior to the first chapter of the book. &nbsp;But as the preface of the book also has a page number 1 all links to "page 1" would not be unique anymore, hence the notice that "duplicate has been ignored."<br></div><div><br></div><div><b>4.7.6 Problems with Bookmarks</b><br></div><div>The text displayed by bookmarks does not always look like you expect it to look. &nbsp;Because bookmarks are "just text", fewer characters are available for bookmarks than for normal LaTeX text. &nbsp;Hyperref will normally notice such problems and put up a warning: Package hyperref Warning: Token not allowed in a PDFDocEncoded string:&nbsp;<br></div><div><br></div><div>Work around this problem by providing a text string for the bookmarks, which replaces the offending text: \texorpdfstring{TeX text}{Bookmark Text}<br></div><div><br></div><div>Math expressions are a prime candidate for this kind of problem:<br></div><div>\section{\texorpdfstring{$E=mc^2$}%{E = mc ** 2}}&nbsp;<br></div><div>which turns \section{$E=mc^2$} to "E = mc ** 2" in the bookmark area.<br></div><div><br></div><div>If you write your document in Unicode and use the unicode option for the hyperrf package to use Unicode characters in bookmarks, this will give you a much larger selection of characters to pick from when using \texorpdfstring.<br></div><div><br></div><div><b>4.7.7 Source Compatibility Between LaTeX and pdfLaTeX</b><br></div><div>Ideally your document would compile equally well with LaTeX and pdfLaTeX. &nbsp;The main problem in this respect is the inclusion of graphics. &nbsp;The simple solution is to systematically drop the file extension from \includegraphics commands. &nbsp;They will then automatically look for a file of a suitable format in the current directory. &nbsp;All you have to do is create appropriate version of the graphics files. &nbsp;LaTeX will look for .eps, and pdfLaTeX will try to include a file extension .png, .pdf, .jpg, or .mps. &nbsp;<br></div><div><br></div><div>Note that in recent TeX distributions (like TeXLive, MacTeX and MiKTeX), the normal TeX program is actually pdfTeX and it will automatically switch between producing pdf and dvi according to the name it is called with: use the pdflatex command to get pdf output and latex for normal dvi output.<br></div><div><br></div><div><b>4.8 Working with XELaTeX</b><br></div><div><b></b><br></div>